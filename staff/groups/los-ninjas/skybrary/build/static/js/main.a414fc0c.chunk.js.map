{"version":3,"sources":["common/normalize/index.js","common/errors/index.js","common/validate/index.js","common/call/index.js","data/user-api/index.js","data/booksearch-api/index.js","logic/index.js","components/Header/index.js","components/Footer/index.js","components/Landing/index.js","components/Register/index.js","components/Login/index.js","components/Search/index.js","components/Results/index.js","components/Detail/index.js","components/Home/index.js","components/App.js","serviceWorker.js","index.js"],"names":["normalize","undefinedOrNull","value","ValueError","message","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","Error","FormatError","RequirementError","ConnectionError","TimeoutError","LogicError","validate","arguments","args","forEach","_ref","name","type","notEmpty","optional","undefined","TypeError","concat","trim","length","keys","email","test","String","url","signal","options","_options$method","method","headers","body","_options$timeout","timeout","controller","AbortController","setTimeout","abort","fetch","catch","error","DOMException","userApi","__url__","__timeout__","create","username","password","data","Content-Type","JSON","stringify","objectSpread","then","response","json","authenticate","retrieve","id","token","Authorization","update","searchBooksApi","searchBooks","query","retrieveBook","isbn","logic","__userId__","sessionStorage","userId","__userToken__","userToken","isUserLoggedIn","registerUser","alias","status","loginUser","_this","_response$data","retrieveUser","_response$data2","logoutUser","clear","toggleFavBook","_this2","_data$bookFavs","bookFavs","index","indexOf","push","splice","retrieveFavBooks","_data$bookFavs2","calls","map","fav","Promise","all","Header","props","onLogout","userLogged","react_default","a","createElement","className","onClick","Footer","Landing","onClickRegister","onClickLogin","components_Header","e","preventDefault","href","components_Footer","Register","onRegister","onSubmit","event","_event$target","target","placeholder","Login","onLogin","Search","onSearch","Results","items","onItem","onFav","_ref2","key","cover_edition_key","title","author_name","cover_i","publish_date","isFav","some","src","alt","stopPropagation","Detail","item","cover","react","join","numberOfPages","description","Home","state","books","bookDetail","bookInfo","search","setState","docs","handleSearch","history","handleRetrieve","singleBook","find","book","_singleBook$author_na","_singleBook$publish_d","apiBookDetailsResponse","_Object$values$0$deta","values","details","_details$description","number_of_pages","_description$value","handleFav","handleLogout","location","queryString","parse","_this$state","components_Search","components_Results","components_Detail","Component","withRouter","App","handleRegister","handleLogin","user","handleLoginNavigation","handleRegisterNavigation","react_router","exact","path","render","components_Landing","components_Register","components_Login","src_components_Home","to","Boolean","window","hostname","match","ReactDOM","react_router_dom","src_components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a414fc0c.chunk.js","sourcesContent":["'use strict'\r\n\r\nconst normalize = {\r\n    undefinedOrNull(value) {\r\n        if (value === 'null') return null\r\n        if (value === 'undefined') return undefined\r\n\r\n        return value\r\n    }\r\n}\r\n\r\nexport default normalize","'use strict'\r\n\r\nclass ValueError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nclass FormatError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nclass RequirementError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nclass ConnectionError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nclass TimeoutError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nclass LogicError extends Error {\r\n    constructor(message) {\r\n        super(message)\r\n    }\r\n}\r\n\r\nexport {\r\n    ValueError,\r\n    FormatError,\r\n    RequirementError,\r\n    ConnectionError,\r\n    TimeoutError,\r\n    LogicError\r\n}","import { ValueError, RequirementError, FormatError } from '../errors'\r\n\r\nconst validate = {\r\n    arguments(args) {\r\n        args.forEach(({ name, value, type, notEmpty, optional }) => {\r\n            if (value != undefined) {\r\n                if (typeof value !== type) throw TypeError(`${name} ${value} is not a ${type}`)\r\n\r\n                if (notEmpty)\r\n                    if (type === 'string') {\r\n                        if (!value.trim().length) throw new ValueError(`${name} is empty`)\r\n                    } else if (type === 'object')\r\n                        if (!Object.keys(value).length) throw new ValueError(`${name} is empty`)\r\n            } else if (!optional) throw new RequirementError(`${name} is not optional`)\r\n        })\r\n    },\r\n\r\n    email(email) {\r\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        if (!re.test(String(email))) throw new FormatError(`${email} is not an e-mail`)\r\n    },\r\n\r\n    url(url) {\r\n        const re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/\r\n\r\n        if (!re.test(String(url))) throw new FormatError(`${url} is not a url`)\r\n    }\r\n}\r\n\r\nexport default validate","import validate from '../validate'\r\nimport { ConnectionError, TimeoutError } from '../errors'\r\n\r\n/**\r\n * Makes an HTTP call.\r\n *\r\n * @param {*} url\r\n * @param {*} callback\r\n * @param {*} options\r\n *\r\n * @version 4.0.0\r\n */\r\nfunction call(url, options = {}) {\r\n    const { method = 'GET', headers, body, timeout = 0 } = options\r\n\r\n    validate.arguments([\r\n        { name: 'url', value: url, type: 'string', notEmpty: true },\r\n        { name: 'method', value: method, type: 'string', notEmpty: true },\r\n        { name: 'headers', value: headers, type: 'object', optional: true },\r\n        { name: 'body', value: body, type: 'string', notEmpty: true, optional: true },\r\n        { name: 'timeout', value: timeout, type: 'number', notEmpty: true, optional: true },\r\n    ])\r\n\r\n    validate.url(url)\r\n\r\n    let signal\r\n\r\n    if (timeout) {\r\n        const controller = new AbortController()\r\n        signal = controller.signal\r\n        setTimeout(() => controller.abort(), timeout)\r\n    }\r\n\r\n    return fetch(url, {\r\n        method,\r\n        headers,\r\n        body,\r\n        signal\r\n    })\r\n        .catch(error => {\r\n            if (error instanceof TypeError) throw new ConnectionError('cannot connect')\r\n            else if (error instanceof DOMException) throw new TimeoutError(`time out, exceeded limit of ${timeout}ms`)\r\n            else throw error\r\n        })\r\n}\r\n\r\nexport default call","import validate from '../../common/validate'\r\nimport call from '../../common/call'\r\n\r\nconst userApi = {\r\n    __url__: 'https://skylabcoders.herokuapp.com/api',\r\n    __timeout__: 0,\r\n    \r\n    create(username, password, data) {\r\n        validate.arguments([\r\n            { name: 'username', value: username, type: 'string', notEmpty: true },\r\n            { name: 'password', value: password, type: 'string', notEmpty: true },\r\n            { name: 'data', value: data, type: 'object', notEmpty: true, optional: true }\r\n        ])\r\n\r\n        return call(`${this.__url__}/user`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ username, password, ...data }),\r\n            timeout: this.__timeout__\r\n        })\r\n            .then(response => response.json())\r\n    },\r\n\r\n    authenticate(username, password) {\r\n        validate.arguments([\r\n            { name: 'username', value: username, type: 'string', notEmpty: true },\r\n            { name: 'password', value: password, type: 'string', notEmpty: true }\r\n        ])\r\n\r\n        return call(`${this.__url__}/auth`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ username, password }),\r\n            timeout: this.__timeout__\r\n        })\r\n            .then(response => response.json())\r\n    },\r\n\r\n    retrieve(id, token) {\r\n        validate.arguments([\r\n            { name: 'id', value: id, type: 'string', notEmpty: true },\r\n            { name: 'token', value: token, type: 'string', notEmpty: true }\r\n        ])\r\n\r\n        return call(`${this.__url__}/user/${id}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n            timeout: this.__timeout__\r\n        })\r\n            .then(response => response.json())\r\n    },\r\n\r\n    update(id, token, data) {\r\n        validate.arguments([\r\n            { name: 'id', value: id, type: 'string', notEmpty: true },\r\n            { name: 'token', value: token, type: 'string', notEmpty: true },\r\n            { name: 'data', value: data, type: 'object', notEmpty: true }\r\n        ])\r\n\r\n        return call(`${this.__url__}/user/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data),\r\n            timeout: this.__timeout__\r\n        })\r\n            .then(response => response.json())\r\n    },\r\n}\r\n\r\nexport default userApi","import validate from '../../common/validate'\r\nimport call from '../../common/call'\r\n\r\nconst searchBooksApi = {\r\n    __url__: 'https://openlibrary.org',\r\n\r\n   \r\n\r\n    searchBooks(query) {\r\n        validate.arguments([\r\n            { name: 'query', value: query, type: 'string' }\r\n        ])\r\n        \r\n        return call(`${this.__url__}/search.json?title=${query}`)\r\n            .then(response => response.json())\r\n    },\r\n\r\n    retrieveBook(isbn) {\r\n        validate.arguments([\r\n            { name: 'isbn', value: isbn, type: 'string' }\r\n        ])\r\n\r\n        return call(`${this.__url__}/api/books?bibkeys=ISBN:${isbn}&jscmd=details&format=json`)\r\n            .then(response => response.json())\r\n    }\r\n}\r\n\r\nexport default searchBooksApi\r\n\r\n","import normalize from '../common/normalize'\r\nimport validate from '../common/validate'\r\nimport userApi from '../data/user-api'\r\nimport searchBooksApi from '../data/booksearch-api'\r\nimport { LogicError } from '../common/errors'\r\n\r\nconst logic = {\r\n    set __userId__(id) {\r\n        sessionStorage.userId = id\r\n    },\r\n\r\n    get __userId__() {\r\n        return normalize.undefinedOrNull(sessionStorage.userId)\r\n    },\r\n\r\n    set __userToken__(token) {\r\n        sessionStorage.userToken = token\r\n    },\r\n\r\n    get __userToken__() {\r\n        return normalize.undefinedOrNull(sessionStorage.userToken)\r\n    },\r\n\r\n    get isUserLoggedIn() {\r\n        return !!(this.__userId__ && this.__userToken__)\r\n    },\r\n\r\n    registerUser(alias, email, password) {\r\n        validate.arguments([\r\n            { name: 'alias', value: alias, type: 'string', notEmpty: true },\r\n            { name: 'email', value: email, type: 'string', notEmpty: true },\r\n            { name: 'password', value: password, type: 'string', notEmpty: true }\r\n        ])\r\n\r\n        validate.email(email)\r\n\r\n\r\n        return userApi.create(email, password, { alias })\r\n            .then(response => {\r\n                if (response.status === 'OK') return\r\n\r\n                throw new LogicError(response.error)\r\n            })\r\n    },\r\n\r\n    loginUser(email, password) {\r\n        validate.arguments([\r\n            { name: 'email', value: email, type: 'string', notEmpty: true},\r\n            { name: 'password', value: password, type: 'string', notEmpty: true }\r\n        ])\r\n\r\n        validate.email(email)\r\n\r\n        return userApi.authenticate(email, password)\r\n            .then(response => {\r\n                if (response.status === 'OK') {\r\n                    const { data: { id, token } } = response\r\n\r\n                    this.__userId__ = id\r\n                    this.__userToken__ = token\r\n                } else throw new LogicError(response.error)\r\n            })\r\n    },\r\n\r\n    retrieveUser() {\r\n        return userApi.retrieve(this.__userId__, this.__userToken__)\r\n            .then(response => {\r\n                if (response.status === 'OK') {\r\n                    const { data: { alias, username: email } } = response\r\n\r\n                    return { alias, email }\r\n                } else throw new LogicError(response.error)\r\n            })\r\n    },\r\n\r\n    logoutUser() {\r\n        sessionStorage.clear()\r\n    },\r\n\r\n\r\n    searchBooks(query) {\r\n        validate.arguments([\r\n            { name: 'query', value: query, type: 'string' }\r\n        ])\r\n\r\n        return searchBooksApi.searchBooks(query)\r\n    },\r\n\r\n    retrieveBook(isbn) {\r\n        validate.arguments([\r\n             { name: 'isbn', value: isbn, type: 'string' }\r\n         ])\r\n\r\n        return searchBooksApi.retrieveBook(isbn)\r\n    },\r\n\r\n    toggleFavBook(isbn) {\r\n        validate.arguments([\r\n            { name: 'isbn', value: isbn, type: 'string' }\r\n        ])\r\n\r\n        return userApi.retrieve(this.__userId__, this.__userToken__)\r\n            .then(response => {\r\n                const { status, data } = response\r\n\r\n                if (status === 'OK') {\r\n                    const { bookFavs = [] } = data // NOTE if data.bookFavs === undefined then bookFavs = []\r\n\r\n                    const index = bookFavs.indexOf(isbn)\r\n\r\n                    if (index < 0) bookFavs.push(isbn)\r\n                    else bookFavs.splice(index, 1)\r\n\r\n                    return userApi.update(this.__userId__, this.__userToken__, { bookFavs })\r\n                        .then(() => bookFavs)\r\n                }\r\n                else throw new LogicError(response.error)\r\n            })\r\n    },\r\n\r\n    retrieveFavBooks() {\r\n        return userApi.retrieve(this.__userId__, this.__userToken__)\r\n            .then(response => {\r\n                const { status, data } = response\r\n\r\n                if (status === 'OK') {\r\n                    const { bookFavs = [] } = data\r\n\r\n                    if (bookFavs.length) {\r\n                        const calls = bookFavs.map(fav => searchBooksApi.retrieveBook(fav))\r\n\r\n                        return Promise.all(calls)\r\n                    } else return bookFavs\r\n                }\r\n\r\n                throw new LogicError(response.error)\r\n            })\r\n    }\r\n}\r\n\r\nexport default logic","import React from 'react'\r\nimport logic from '../../logic'\r\nimport './index.scss'\r\n\r\nfunction Header(props) {\r\n   const { onLogout } = props\r\n   const userLogged = logic.isUserLoggedIn\r\n\r\n   return <header className=\"great-vibes header\">\r\n        <div className=\"container\">\r\n            <h1>Skybrary</h1>\r\n            <hr />\r\n        </div>\r\n        {userLogged &&\r\n            <button className=\"button is-small is-pulled-left\" onClick={() => {onLogout()}}>\r\n                <i className=\"fas fa-power-off\" />\r\n                <span>\r\n                    Log Out\r\n                </span>\r\n            </button>\r\n        }\r\n    </header>\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nfunction Footer() {\r\n    return <footer className=\"footer has-text-centered \">\r\n        <p className=\"footer__text\">Made with <i className=\"fas fa-heart\" /> by Daniela, Albert and Edgar (the amazing 'los ninjas')</p>\r\n    </footer>\r\n\r\n}\r\n\r\n\r\nexport default Footer","import React from 'react'\r\nimport Header from '../Header'\r\nimport Footer from '../Footer'\r\nimport './index.scss'\r\n\r\nfunction Landing({ onClickRegister, onClickLogin }) {\r\n\r\n    return (\r\n        <section className=\"section landing\">\r\n            <Header/>\r\n            <section className=\"landing__buttons-container columns\" onClick={e => e.preventDefault()}>\r\n                <div className=\"column is-3 is-offset-2\">\r\n                    <a className=\"button is-primary is-large\" href=\"#\" onClick={() => onClickRegister()}>Register</a>\r\n                </div>\r\n                <div className=\"column is-2\">\r\n                    <span className=\"or\">or</span>\r\n                </div>\r\n                <div className=\"column is-3\">\r\n                    <a className=\"button is-link is-large\" href=\"#\" onClick={() => onClickLogin()}>Login</a>\r\n                </div>\r\n            </section>\r\n            <Footer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Landing","import React from 'react'\r\nimport Header from '../Header'\r\nimport Footer from '../Footer'\r\nimport './index.scss'\r\n\r\nfunction Register({ onRegister, error }) {\r\n\r\n    function handleSubmit(event){\r\n        event.preventDefault()\r\n\r\n        const {\r\n            alias: {value: alias},\r\n            username: {value: username},\r\n            password: {value: password}\r\n        } = event.target\r\n\r\n        onRegister(alias, username, password)\r\n    }\r\n\r\n    return (\r\n        <section className=\"section register\">\r\n            <Header/>\r\n            <div className=\"section\">\r\n                <h2 className=\"subtitle has-text-centered\">Register</h2>\r\n                <form className=\"columns is-multiline\" onSubmit={handleSubmit}>\r\n                    <div className=\"column is-10 is-offset-1\">\r\n                        <div className=\"columns is-multiline\">\r\n                            <input className=\"column is-4 is-10-mobile is-offset-1-mobile\" type=\"text\" name=\"alias\" placeholder=\"Alias\" />\r\n                            <input className=\"column is-4 is-10-mobile is-offset-1-mobile\" type=\"text\" name=\"username\" placeholder=\"Email\" />\r\n                            <input className=\"column is-4 is-10-mobile is-offset-1-mobile\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"column is-2 is-offset-5 has-text-centered\">\r\n                        <button className=\"button is-medium is-link is-inverted\">Send</button>\r\n                    </p>\r\n                    {error && <article className=\"column is-12  message is-danger register__error\">\r\n                        <div className=\"message-body\">\r\n                            {error}\r\n                        </div>\r\n                    </article>}\r\n                </form>\r\n            </div>\r\n            <Footer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport Header from '../Header'\r\nimport Footer from '../Footer'\r\nimport './index.scss'\r\n\r\nfunction Login({onLogin, error}){\r\n    function handleSubmit(event) {\r\n        event.preventDefault()\r\n\r\n        const username = event.target.username.value\r\n        const password = event.target.password.value\r\n\r\n        onLogin(username, password)\r\n    }\r\n\r\n    return (\r\n        <section className=\"section login\">\r\n            <Header/>\r\n            <div className=\"section\">\r\n                <h2 className=\"subtitle has-text-centered\">Login</h2>\r\n\r\n                <form  className=\"columns is-multiline\" onSubmit={handleSubmit}>\r\n                    <input className=\"column is-5 is-four-fifths-mobile is-offset-1 is-offset-1-mobile\" type=\"text\" name=\"username\" placeholder=\"Email\" />\r\n                    <input className=\"column is-5 is-four-fifths-mobile is-offset-1-mobile\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n                    <p className=\"column is-2 is-offset-5 has-text-centered\">\r\n                        <button className=\"button is-medium is-link is-inverted\">Send</button>\r\n                    </p>\r\n                    {error && <article className=\"column is-12  message is-danger register__error\">\r\n                        <div className=\"message-body\">\r\n                            {error}\r\n                        </div>\r\n                    </article>}\r\n                </form>\r\n            </div>\r\n            <Footer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport './index.scss'\r\n\r\nfunction Search({ onSearch }) {\r\n\r\n    return (\r\n        <form className=\"columns search-form is-multiline\" onSubmit={event => {\r\n            event.preventDefault()\r\n            const query = event.target.query.value\r\n            onSearch(query)\r\n        }}>\r\n\r\n            <input className=\"column is-3-desktop is-offset-4-desktop is-6-tablet is-offset-2-tablet is-8-mobile is-offset-2-mobile\" type=\"text\" name=\"query\" placeholder=\"Search your books by title\" />\r\n            <p className=\" search-form__button column is-2 is-offset-mobile-5 has-text-centered-mobile\">\r\n                <button className=\" button is-medium  is-link is-inverted\">Search</button>\r\n            </p>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default Search","import React from 'react'\r\nimport './index.scss'\r\nimport { debug } from 'util';\r\n\r\nfunction Results({ items, onItem, onFav, bookFavs }) {\r\n    return (\r\n        <section className=\"library container\" >\r\n            <ul className=\"columns is-centered is-multiline is-mobile\">\r\n                {\r\n                    items.map(({ key, isbn, cover_edition_key, title, author_name, cover_i, publish_date }) => {\r\n                        const isFav = bookFavs.some(fav => {\r\n                            if(isbn){\r\n                                const key = Object.keys(fav)[0]\r\n                                return key === 'ISBN:' + isbn[0]\r\n                            }\r\n                            return false\r\n                        })\r\n\r\n                        return (isbn && cover_edition_key) && <li className=\"library__book column is-3-desktop is-4-tablet is-10-mobile\" key={cover_edition_key} onClick={() => onItem(isbn[0], key)}>\r\n                            <article className=\"card\">\r\n                                <div className=\"card-image\">\r\n                                    <figure className=\"image is-3by4\">\r\n                                        <img src={(cover_i && cover_i > 0) ? `http://covers.openlibrary.org/b/id/${cover_i}-L.jpg` : 'https://www.motorolasolutions.com/content/dam/msi/images/business/products/accessories/p_-_r/raf4220a/_images/static_files/b2b_product_raf4220a_lg_us-en.jpg'} alt={title} />\r\n                                    </figure>\r\n                                </div>\r\n                                <div className=\"card-content\">\r\n                                    <div className=\"media\">\r\n                                        <div className=\"media-content\">\r\n                                            <p className=\"title is-4\">{title}</p>\r\n                                            <p className=\"subtitle is-6\">{author_name}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"content\">\r\n                                        <span className=\"book__isbn\">ISBN: {isbn[0]}</span>\r\n                                        <time>\r\n                                            {publish_date && <span>{publish_date[0]}</span>}\r\n                                        </time>\r\n\r\n                                    </div>\r\n                                {<i onClick={e => { e.stopPropagation(); onFav(isbn[0]) }} className={isFav ? 'fas fa-heart' : 'far fa-heart'}/>}\r\n                                </div>\r\n                            </article>\r\n                        </li>\r\n                    })\r\n                }\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Results\r\n","import React, { Fragment } from 'react'\r\nimport './index.scss'\r\n\r\nfunction Detail({ item, onFav, bookFavs }) {\r\n    if (!item) {\r\n        return \"Este detalle no es correcto\"\r\n    }\r\n\r\n    const isBookFav = () => {\r\n        return bookFavs.some(fav => {\r\n            if(item.isbn){\r\n                const key = Object.keys(fav)[0]\r\n                return key === 'ISBN:' + item.isbn\r\n            }\r\n            return false\r\n        })\r\n    }\r\n\r\n    return <section className='container'>\r\n        <article className='columns card-detail'>\r\n            {<i onClick={(e) => { e.stopPropagation();  onFav(item.isbn) }} className={isBookFav() ? 'fas fa-heart' : 'far fa-heart'} />}\r\n\r\n            <div className='column is-4 card-detail__image'>\r\n                {<img src={(item.cover && item.cover > 0)\r\n                    ? `https://covers.openlibrary.org/b/id/${item.cover}-L.jpg`\r\n                    : 'https://www.motorolasolutions.com/content/dam/msi/images/business/products/accessories/p_-_r/raf4220a/_images/static_files/b2b_product_raf4220a_lg_us-en.jpg'} />\r\n                }\r\n            </div>\r\n            <div className='column is-8 card-detail__info'>\r\n                {item.title &&\r\n                    <Fragment>\r\n                        <p className=\"info__BoldTitle\">\r\n                            Title: \r\n                            <span>{item.title}</span>\r\n                        </p>\r\n                    </Fragment>\r\n                }\r\n\r\n                <p className=\"info__BoldTitle\">\r\n                    Author:\r\n                    <span>{item.author_name.join(', ')}</span>\r\n                </p>\r\n                {item.numberOfPages &&\r\n                    <p className=\"info__BoldTitle\">\r\n                        Num of pages: \r\n                        <span>{item.numberOfPages}</span>\r\n                    </p>\r\n                }\r\n                {item.description &&\r\n                    <Fragment>\r\n                        <p className=\"info__BoldTitle\">\r\n                            Synopsis: \r\n                            <span>{item.description}</span>\r\n                        </p>\r\n                    </Fragment>\r\n                }\r\n            </div>\r\n        </article>\r\n    </section>\r\n\r\n}\r\n\r\nexport default Detail\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport logic from '../../logic'\r\nimport Search from '../Search'\r\nimport Results from '../Results'\r\nimport Header from '../Header'\r\nimport Footer from '../Footer'\r\nimport Detail from '../Detail'\r\nimport { withRouter } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\nimport './index.scss'\r\n\r\nclass Home extends Component {\r\n    state = { query: null, error: null, books: [], bookDetail: null, bookInfo: {}, bookFavs: [] }\r\n\r\n    componentWillReceiveProps(props) {\r\n        if (props.location.search) {\r\n            const { query } = queryString.parse(props.location.search)\r\n\r\n            query && this.search(query)\r\n        }\r\n    }\r\n\r\n    search = query =>\r\n        logic.searchBooks(query)\r\n            .then((books) =>\r\n                logic.retrieveFavBooks()\r\n                .then(bookFavs => {\r\n                    this.setState({ query, bookFavs, bookDetail: null, books: books.docs })\r\n                })\r\n            ).catch(error =>\r\n                this.setState({ error: error.message })\r\n            )\r\n\r\n    handleSearch = query => this.props.history.push(`/home?query=${query}`)\r\n\r\n    handleRetrieve = (isbn, key) => {\r\n        const singleBook = this.state.books.find(book => book.key === key)\r\n\r\n        const { cover_i, title, author_name = [], publish_date = [] } = singleBook\r\n\r\n        logic.retrieveBook(isbn)\r\n            .then(apiBookDetailsResponse => {\r\n                const { details = {} } = Object.values(apiBookDetailsResponse)[0]\r\n                const { description = {}, number_of_pages } = details\r\n                const { value = '' } = description\r\n                const bookDetail = {\r\n                    author_name,\r\n                    cover: cover_i,\r\n                    description: value,\r\n                    numberOfPages: number_of_pages,\r\n                    title,\r\n                    publish_date: publish_date[0],\r\n                    isbn,\r\n                }\r\n\r\n                // console.log(btoa(JSON.stringify(bookDetail))) // atob to decript!\r\n\r\n                this.setState({ bookDetail, isbn })\r\n            }).catch()\r\n    }\r\n\r\n    handleFav = isbn =>\r\n         logic.toggleFavBook(isbn)\r\n            .then(() => logic.retrieveFavBooks())\r\n            .then(bookFavs => this.setState({ bookFavs }))\r\n\r\n    handleLogout = () => {\r\n        logic.logoutUser()\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            handleLogout,\r\n            handleSearch,\r\n            handleRetrieve,\r\n            state: { query, books, bookDetail, bookFavs },\r\n            handleFav\r\n        } = this\r\n\r\n        return <main className=\"home\">\r\n            <Header onLogout={handleLogout} />\r\n            <Search query={query} onSearch={handleSearch} />\r\n            {!bookDetail && <Results items={books} onItem={handleRetrieve} onFav={handleFav} bookFavs={bookFavs}/>}\r\n            {bookDetail && <Detail item={bookDetail} onFav={handleFav} bookFavs={bookFavs} />}\r\n            <Footer />\r\n        </main>\r\n    }\r\n}\r\n\r\nexport default withRouter(Home)","import React, { Component, Fragment } from 'react'\r\nimport logic from '../logic'\r\n// import LanguageSelector from './LanguageSelector'\r\nimport Landing from './Landing'\r\nimport Register from './Register'\r\n// import RegisterOk from './RegisterOk'\r\nimport Header from './Header'\r\nimport Login from './Login'\r\nimport Home from './Home'\r\nimport { Route, withRouter, Redirect, Switch } from 'react-router-dom'\r\nimport './App.scss'\r\n\r\nclass App extends Component {\r\n  state = { name: null, error: null }\r\n\r\n\r\n  handleRegister = (alias, username, password) => {\r\n    try {\r\n      logic.registerUser(alias, username, password)\r\n        .then(() => this.props.history.push('/login')\r\n        )\r\n        .catch(error =>\r\n          this.setState({ error: error.message })\r\n        )\r\n    } catch ({ message }) {\r\n      this.setState({ error: message })\r\n    }\r\n  }\r\n\r\n\r\n  handleLogin = (username, password) => {\r\n    try {\r\n      logic.loginUser(username, password)\r\n        .then(() =>\r\n          logic.retrieveUser()\r\n        )\r\n        .then(user => {\r\n          this.setState({ name: user.alias, error: null }, () => this.props.history.push('/home'))\r\n        })\r\n        .catch(error =>\r\n          this.setState({ error: error.message })\r\n        )\r\n    } catch ({ message }) {\r\n      this.setState({ error: message })\r\n    }\r\n\r\n  }\r\n\r\n  handleLoginNavigation = () => this.props.history.push('/login')\r\n\r\n  handleRegisterNavigation = () => this.props.history.push('/register')\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const {\r\n      state: { error },\r\n      handleLogin,\r\n      handleRegisterNavigation,\r\n      handleLoginNavigation,\r\n      handleRegister,\r\n    } = this\r\n\r\n    return <Fragment>\r\n      <Switch>\r\n        <Route exact path=\"/\" render={() =>\r\n          <Landing onClickRegister={handleRegisterNavigation} onClickLogin={handleLoginNavigation} />\r\n        } />\r\n\r\n        <Route path=\"/register\" render={() =>\r\n          <Register onRegister={handleRegister} error={error} />\r\n        } />\r\n\r\n        <Route path=\"/login\" render={() =>\r\n          <Login onLogin={handleLogin} error={error} />\r\n        } />\r\n\r\n        <Route path=\"/home\" render={props =>\r\n          <Home {...props}/>\r\n        } />\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </Fragment>\r\n  }\r\n}\r\n\r\nexport default withRouter(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}